{"remainingRequest":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue?vue&type=template&id=658eb408","dependencies":[{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue","mtime":1609893940935},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPHNlY3Rpb24gY2xhc3M9ImZsZXggdy1mdWxsIj4KICAgIDxkaXYgY2xhc3M9Im0tYXV0byI+CiAgICAgIDxoMSBjbGFzcz0idGV4dC1jZW50ZXIgdGV4dC0yeGwiPlJlYWwgVGltZSBDaGF0PC9oMT4KICAgICAgPGRpdiBjbGFzcz0iYm9yZGVyIHJvdW5kZWQtbGciPgogICAgICAgIDxkaXYgY2xhc3M9ImgtNjQgcC0yIj4KICAgICAgICAgIDxkaXYKICAgICAgICAgICAgdi1mb3I9ImNoYXQgaW4gc3RhdGUuY2hhdHMiCiAgICAgICAgICAgIDprZXk9ImNoYXQubWVzc2FnZSIKICAgICAgICAgICAgY2xhc3M9InctZnVsbCIKICAgICAgICAgICAgOmNsYXNzPSJjaGF0LnVzZXJJZCA9PT0gdXNlcklkID8gJ3RleHQtcmlnaHQnIDogJycgIgogICAgICAgICAgICA+CiAgICAgICAgICAgIHt7IGNoYXQubWVzc2FnZSB9fQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iaC04IHAtMiI+CiAgICAgICAgICA8aW5wdXQKICAgICAgICAgIHYtbW9kZWw9InN0YXRlLm1lc3NhZ2UiCiAgICAgICAgICBwbGFjZWhvbGRlcj0iU3RhcnQgVHlwaW5nLi4uIgogICAgICAgICAgY2xhc3M9InAtMSBib3JkZXIgcm91bmRlZCBzaGFkb3ciCiAgICAgICAgICBAa2V5ZG93bi5lbnRlcj0iYWRkTWVzc2FnZSIKICAgICAgICAgIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9zZWN0aW9uPgo="},{"version":3,"sources":["/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACnB,CAAC,CAAC,CAAC;YACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;YACnD;YACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC;UACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1B,CAAC;QACH,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue","sourceRoot":"","sourcesContent":["<template>\n  <section class=\"flex w-full\">\n    <div class=\"m-auto\">\n      <h1 class=\"text-center text-2xl\">Real Time Chat</h1>\n      <div class=\"border rounded-lg\">\n        <div class=\"h-64 p-2\">\n          <div\n            v-for=\"chat in state.chats\"\n            :key=\"chat.message\"\n            class=\"w-full\"\n            :class=\"chat.userId === userId ? 'text-right' : '' \"\n            >\n            {{ chat.message }}\n          </div>\n        </div>\n        <div class=\"h-8 p-2\">\n          <input\n          v-model=\"state.message\"\n          placeholder=\"Start Typing...\"\n          class=\"p-1 border rounded shadow\"\n          @keydown.enter=\"addMessage\"\n          />\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { computed, onMounted, reactive } from 'vue';\nimport { chatsRef } from '../utilities/firebase';\nimport { useStore } from 'vuex';\nexport default {\n  setup() {\n    const state = reactive({\n      chats: [],\n      message: \"\",\n    });\n\n    const store = useStore();\n    const userId = computed(() => store.state.authUser.uid);\n\n    onMounted(async () => {\n      chatsRef.on('child_added', (snapshot) => {\n        state.chats.push({ key:snapshot.key, ...snapshot.val() });\n      });\n    });\n\n    function addMessage() {\n      const newChat = chatsRef.push();\n      newChat.set({ userId: state.userId, message: state.message });\n      state.message = \"\";\n    }\n\n    return { state, addMessage, userId };\n  },\n};\n</script>\n\n<style>\n\n</style>\n"]}]}