{"remainingRequest":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/UserCrud.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/UserCrud.vue","mtime":1610066248029},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG9uTW91bnRlZCwgcmVhY3RpdmUgfSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnLi4vcGx1Z2lucy9heGlvcyc7CmltcG9ydCBDcmVhdGUgZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VyQ3J1ZC9DcmVhdGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBDcmVhdGUgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoewogICAgICB1c2VyczogW10sCiAgICB9KTsKICAgIG9uTW91bnRlZChhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAvdXNlcnNgKTsKICAgICAgc3RhdGUudXNlcnMgPSBkYXRhOwogICAgfSk7CgogICAgIGFzeW5jIGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAvdXNlcnM/cGFnZT0yYCk7CiAgICAgIHN0YXRlLnVzZXJzID0gZGF0YTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBwcmV2KCkgewogICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KGAvdXNlcnM/cGFnZT0xYCk7CiAgICAgc3RhdGUudXNlcnMgPSBkYXRhOwogICB9CgoKICAgYXN5bmMgZnVuY3Rpb24gZGVzdHJveShpZCkgewogICAgIGF3YWl0IGF4aW9zLmRlbGV0ZShgL3VzZXJzLyR7aWR9YCk7CiAgICAgc3RhdGUudXNlcnMgPSBzdGF0ZS51c2Vycy5maWx0ZXIodXNlciA9PiB1c2VyLl9pZCAhPT0gaWQpOwogICB9CgogICBmdW5jdGlvbiBhZGRVc2VyKGRhdGEpIHsKICAgICBzdGF0ZS51c2Vycy5wdXNoKGRhdGEpOwogICB9CgogICAgcmV0dXJuIHsgc3RhdGUsIG5leHQsIHByZXYsIGRlc3Ryb3kgfTsKICB9LAp9Owo="},{"version":3,"sources":["/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/UserCrud.vue"],"names":[],"mappings":"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","file":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/UserCrud.vue","sourceRoot":"","sourcesContent":["<template>\n  <section class=\"flex w-full\">\n    <div class=\"m-auto\">\n      <div class=\"mt-10\">\n        <Create @new-user-added=\"addUser\" />\n        <table>\n          <thead>\n            <tr>\n              <th class=\"px-4 py-2 border\">ID</th>\n              <th class=\"px-4 py-2 border\">Avatar</th>\n              <th class=\"px-4 py-2 border\">Name</th>\n              <th class=\"px-4 py-2 border\">Email</th>\n              <th class=\"px-4 py-2 border\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"user in state.users\" :key=\"user.id\">\n              <td class=\"border px-4 py-2\">{{ user._id}}</td>\n              <td class=\"border px-4 py-2\">\n                <img\n                  :src=\"user.avatar\"\n                  :alt=\"user.name\"\n                  width=\"50\"\n                  class=\"rounded-full\"\n                  />\n              </td>\n              <td class=\"border px-4 py-2\">{{ user.name }}</td>\n              <td class=\"border px-4 py-2\">{{ user.email }}</td>\n              <td class=\"border px-4 py-2\">\n                <button\n                  class=\"px-2 py-1 bg-red-800 rounded text-white\"\n                  @click=\"destroy(user._id)\">\n                    Delete\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"flex  justify-between\">\n          <button\n            class=\"px-3 py-2 border rounded\"\n            @click=\"prev\"\n            :disabled=\"state.users.page === 1\"\n            :class=\"state.users.page === 1 ? 'bg-gray-100' : 'hover:shadow'\">\n              Prev\n          </button>\n          <button\n            class=\"px-3 py-2 border rounded\"\n            @click=\"next\"\n            :disabled=\"state.users.page === state.users.total_pages\"\n            :class=\"\n              state.users.page === state.users.total_pages\n                ? 'bg-gray-100'\n                : 'hover:shadow'\">\n              Next\n          </button>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { onMounted, reactive } from 'vue';\nimport axios from '../plugins/axios';\nimport Create from '../components/UserCrud/Create';\nexport default {\n  components: { Create },\n  setup() {\n    const state = reactive({\n      users: [],\n    });\n    onMounted(async () => {\n      const { data } = await axios.get(`/users`);\n      state.users = data;\n    });\n\n     async function next() {\n      const { data } = await axios.get(`/users?page=2`);\n      state.users = data;\n    }\n\n    async function prev() {\n     const { data } = await axios.get(`/users?page=1`);\n     state.users = data;\n   }\n\n\n   async function destroy(id) {\n     await axios.delete(`/users/${id}`);\n     state.users = state.users.filter(user => user._id !== id);\n   }\n\n   function addUser(data) {\n     state.users.push(data);\n   }\n\n    return { state, next, prev, destroy };\n  },\n};\n</script>\n\n<style>\n\n</style>\n"]}]}