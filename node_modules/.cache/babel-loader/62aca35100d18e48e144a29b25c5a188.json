{"remainingRequest":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue?vue&type=template&id=658eb408","dependencies":[{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue","mtime":1609805596429},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoS2V5cyBhcyBfd2l0aEtleXMsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcyB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiZmxleCB3LWZ1bGwiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAibS1hdXRvIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJoMSIsIHsKICBjbGFzczogInRleHQtY2VudGVyIHRleHQtMnhsIgp9LCAiUmVhbCBUaW1lIENoYXQiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImJvcmRlciByb3VuZGVkLWxnIgp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImgtNjQgcC0yIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogImgtOCBwLTIiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJzZWN0aW9uIiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19ob2lzdGVkXzMsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuc3RhdGUuY2hhdHMsIGZ1bmN0aW9uIChjaGF0KSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAga2V5OiBjaGF0Lm1lc3NhZ2UsCiAgICAgIGNsYXNzOiBbInctZnVsbCIsIGNoYXQudXNlcklkID09PSAkc2V0dXAuc3RhdGUudXNlcklkID8gJ3RleHQtcmlnaHQnIDogJyddCiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGNoYXQubWVzc2FnZSksIDMKICAgIC8qIFRFWFQsIENMQVNTICovCiAgICApOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5zdGF0ZS5tZXNzYWdlID0gJGV2ZW50OwogICAgfSksCiAgICBwbGFjZWhvbGRlcjogIlN0YXJ0IFR5cGluZy4uLiIsCiAgICBjbGFzczogInAtMSBib3JkZXIgcm91bmRlZCBzaGFkb3ciLAogICAgb25LZXlkb3duOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IF93aXRoS2V5cyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuYWRkTWVzc2FnZSAmJiAkc2V0dXAuYWRkTWVzc2FnZS5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9LCBbImVudGVyIl0pKQogIH0sIG51bGwsIDU0NAogIC8qIEhZRFJBVEVfRVZFTlRTLCBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnN0YXRlLm1lc3NhZ2VdXSldKV0pXSldKTsKfQ=="},{"version":3,"sources":["/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Chat.vue"],"names":[],"mappings":";;AACW,EAAA,KAAK,EAAC;;;AACR,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAoD,IAApD,EAAoD;AAAhD,EAAA,KAAK,EAAC;AAA0C,CAApD,EAAiC,gBAAjC,EAA+C,CAAA;AAAA;AAA/C,C;;;AACK,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;AAUN,EAAA,KAAK,EAAC;;;uBAdjB,YAAA,CAwBU,SAxBV,EAAA,UAAA,EAwBU,CAvBR,YAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBJ,UAqBI,EApBJ,YAAA,CAmBM,KAnBN,EAAA,UAAA,EAmBM,CAlBJ,YAAA,CASM,KATN,EAAA,UAAA,EASM,E,kBARJ,YAAA,CAOM,SAPN,EAOM,IAPN,EAOM,WAAA,CANW,MAAA,CAAA,KAAA,CAAM,KAMjB,EANsB,UAAnB,IAAmB,EAAf;yBADb,YAAA,CAOM,KAPN,EAOM;AALH,MAAA,GAAG,EAAE,IAAI,CAAC,OAKP;AAJJ,MAAA,KAAK,EAAA,CAAC,QAAD,EACG,IAAI,CAAC,MAAL,KAAgB,MAAA,CAAA,KAAA,CAAM,MAAtB,GAA4B,YAA5B,GAA4B,EAD/B;AAID,KAPN,E,iBAMK,IAAI,CAAC,O,CANV,EAMiB;AAAA;AANjB,K;GAOM,CAPN,E;;AAAA,GAQI,EATN,CAkBI,EARJ,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,C,gBANJ,YAAA,CAKE,OALF,EAKE;;aAJO,MAAA,CAAA,KAAA,CAAM,OAAN,GAAa,M;MAIpB;AAHF,IAAA,WAAW,EAAC,iBAGV;AAFF,IAAA,KAAK,EAAC,2BAEJ;AADD,IAAA,SAAO,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,SAAA,CAAA;AAAA,aAAQ,MAAA,CAAA,UAAA,IAAA,MAAA,CAAA,UAAA,OAAA,MAAA,YAAR;AAAA,KAAA,EAAkB,CAAA,OAAA,CAAlB,CAAA;AACN,GALF,E,IAAA,E;;AAAA,G,iBACS,MAAA,CAAA,KAAA,CAAM,O,GAKX,CAPN,CAQI,CAnBN,CAoBI,CAtBN,CAuBQ,CAxBV,C","sourcesContent":["<template>\n  <section class=\"flex w-full\">\n    <div class=\"m-auto\">\n      <h1 class=\"text-center text-2xl\">Real Time Chat</h1>\n      <div class=\"border rounded-lg\">\n        <div class=\"h-64 p-2\">\n          <div\n            v-for=\"chat in state.chats\"\n            :key=\"chat.message\"\n            class=\"w-full\"\n            :class=\"chat.userId === state.userId ? 'text-right' : '' \"\n            >\n            {{ chat.message }}\n          </div>\n        </div>\n        <div class=\"h-8 p-2\">\n          <input\n          v-model=\"state.message\"\n          placeholder=\"Start Typing...\"\n          class=\"p-1 border rounded shadow\"\n          @keydown.enter=\"addMessage\"\n          />\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { onMounted, reactive } from 'vue';\nimport firebase, { chatsRef } from '../utilities/firebase';\nexport default {\n  setup() {\n    const state = reactive({\n      chats: [],\n      message: \"\",\n      userId: null,\n    });\n    onMounted(async () => {\n      chatsRef.on('child_added', (snapshot) => {\n        state.userId = firebase.default.auth().currentUser.uid;\n        state.chats.push({ key:snapshot.key, ...snapshot.val() });\n      });\n    });\n\n    function addMessage() {\n      const newChat = chatsRef.push();\n      newChat.set({ userId: state.userId, message: state.message });\n      state.message = \"\";\n    }\n\n    return { state, addMessage };\n  },\n};\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}]}