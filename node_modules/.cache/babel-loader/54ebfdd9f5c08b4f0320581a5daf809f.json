{"remainingRequest":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/raskolnikov/Vue_training/vue1-tut/vue3/src/components/UserCrud/Create.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/components/UserCrud/Create.vue","mtime":1610066250861},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Jhc2tvbG5pa292L1Z1ZV90cmFpbmluZy92dWUxLXR1dC92dWUzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBNb2RhbCBmcm9tICcuLi9Nb2RhbCc7CmltcG9ydCBheGlvcyBmcm9tICcuLi8uLi9wbHVnaW5zL2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1vZGFsOiBNb2RhbAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF8sIF9yZWYpIHsKICAgIHZhciBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIGlzTW9kYWxPcGVuID0gcmVmKGZhbHNlKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBhdmF0YXI6ICIiCiAgICAgIH0KICAgIH0pOwoKICAgIGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgcmV0dXJuIF9zdWJtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfc3VibWl0KCkgewogICAgICBfc3VibWl0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkcG9zdCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL3VzZXJzIiwgc3RhdGUuZm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRheGlvcyRwb3N0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkYXhpb3MkcG9zdC5kYXRhOwogICAgICAgICAgICAgICAgZW1pdCgnbmV3LXVzZXItYWRkZWQnLCBkYXRhKTsKICAgICAgICAgICAgICAgIHN0YXRlLmZvcm0uZW1haWwgPSAnJzsKICAgICAgICAgICAgICAgIHN0YXRlLmZvcm0ubmFtZSA9ICcnOwogICAgICAgICAgICAgICAgc3RhdGUuZm9ybS5hdmF0YXIgPSAnJzsKICAgICAgICAgICAgICAgIGlzTW9kYWxPcGVuLnZhbHVlID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CiAgICAgIHJldHVybiBfc3VibWl0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgaXNNb2RhbE9wZW46IGlzTW9kYWxPcGVuLAogICAgICBzdWJtaXQ6IHN1Ym1pdCwKICAgICAgc3RhdGU6IHN0YXRlCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/home/raskolnikov/Vue_training/vue1-tut/vue3/src/components/UserCrud/Create.vue"],"names":[],"mappings":";;;AAqDA,SAAS,QAAT,EAAmB,GAAnB,QAA8B,KAA9B;AACA,OAAO,KAAP,MAAkB,UAAlB;AACA,OAAO,KAAP,MAAkB,qBAAlB;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GADC;AAEb,EAAA,KAFa,iBAEP,CAFO,QAEM;AAAA,QAAR,IAAQ,QAAR,IAAQ;AACjB,QAAM,WAAU,GAAI,GAAG,CAAC,KAAD,CAAvB;AACA,QAAM,KAAI,GAAI,QAAQ,CAAC;AACrB,MAAA,IAAI,EAAE;AACJ,QAAA,IAAI,EAAE,EADF;AAEJ,QAAA,KAAK,EAAE,EAFH;AAGJ,QAAA,MAAM,EAAE;AAHJ;AADe,KAAD,CAAtB;;AAFiB,aAUF,MAVE;AAAA;AAAA;;AAAA;AAAA,wEAUjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC0B,KAAK,CAAC,IAAN,WAAqB,KAAK,CAAC,IAA3B,CAD1B;;AAAA;AAAA;AACU,gBAAA,IADV,qBACU,IADV;AAEE,gBAAA,IAAI,CAAC,gBAAD,EAAmB,IAAnB,CAAJ;AACA,gBAAA,KAAK,CAAC,IAAN,CAAW,KAAX,GAAmB,EAAnB;AACA,gBAAA,KAAK,CAAC,IAAN,CAAW,IAAX,GAAkB,EAAlB;AACA,gBAAA,KAAK,CAAC,IAAN,CAAW,MAAX,GAAoB,EAApB;AACA,gBAAA,WAAW,CAAC,KAAZ,GAAoB,KAApB;;AANF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAViB;AAAA;AAAA;;AAmBjB,WAAO;AAAE,MAAA,WAAW,EAAX,WAAF;AAAe,MAAA,MAAM,EAAN,MAAf;AAAuB,MAAA,KAAI,EAAJ;AAAvB,KAAP;AACD;AAtBY,CAAf","sourcesContent":["<template>\n  <button\n    class=\"px-2 py-1 border rounded my-4\"\n    @click=\"isModalOpen = true\">\n      Add User\n  </button>\n  <teleport to=\"body\">\n    <Modal v-if=\"isModalOpen\" @close=\"isModalOpen = false\">\n      <template #title>\n        Add New User\n      </template>\n      <template #body>\n        <form @submit.prevent=\"submit\">\n          <div class=\"p-2\">\n            <label>Name</label>\n            <input\n              class=\"w-full p-2 rounded border\"\n              placeholder=\"User Name\"\n              v-model=\"state.form.name\"\n            />\n          </div>\n          <div class=\"p-2\">\n            <label>Email</label>\n            <input\n              class=\"w-full p-2 rounded border\"\n              placeholder=\"User Email\"\n              type=\"email\"\n              v-model=\"state.form.email\"\n            />\n          </div>\n          <div class=\"p-2\">\n            <label>Avatar</label>\n            <input\n              class=\"w-full p-2 rounded border\"\n              placeholder=\"Avatar Url\"\n              type=\"text\"\n              v-model=\"state.form.avatar\"\n            />\n          </div>\n          <div class=\"p-2\">\n            <input\n              class=\"w-full p-2 rounded border hover:bg-gray-300\"\n              type=\"submit\"\n              value=\"Create\"\n            />\n          </div>\n        </form>\n      </template>\n    </Modal>\n  </teleport>\n</template>\n\n<script>\nimport { reactive, ref } from 'vue';\nimport Modal from '../Modal';\nimport axios from '../../plugins/axios';\nexport default {\n  components: { Modal },\n  setup(_, { emit }) {\n    const isModalOpen = ref(false);\n    const state = reactive({\n      form: {\n        name: \"\",\n        email: \"\",\n        avatar: \"\",\n      },\n    });\n\n    async function submit() {\n      const { data } =  await axios.post(`/users`, state.form);\n      emit('new-user-added', data);\n      state.form.email = '';\n      state.form.name = '';\n      state.form.avatar = '';\n      isModalOpen.value = false;\n    }\n\n    return { isModalOpen, submit, state };\n  },\n};\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}]}