{"remainingRequest":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Tensorflow.vue?vue&type=template&id=5318c32b","dependencies":[{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Tensorflow.vue","mtime":1610155804988},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/raskolnikov/Vue_training/vue1-tut/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImZsZXggdy1mdWxsIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIm0tYXV0byIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJtdC0xMCIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDEiLCB7CiAgY2xhc3M6ICJ0ZXh0LTJ4bCBteS00Igp9LCAiVGVuc29yZmxvdyBPYmplY3QgRGV0ZWN0aW9uIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJmbGV4IGZsZXgtd3JhcCBqdXN0aWZ5LWNlbnRlciBteS0yIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogInctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiIKfTsKdmFyIF9ob2lzdGVkXzggPSB7CiAgcmVmOiAidmlkZW9SZWYiLAogIGF1dG9wbGF5OiAidHJ1ZSIsCiAgd2lkdGg6ICIxMDAiCn07CnZhciBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAiZmxleCBmbGV4LXdyYXAganVzdGlmeS1jZW50ZXIiCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICByZWY6ICJpbWdSZWYiLAogIHNyYzogImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTY3NTgxOTM1ODg0LTMzNDk3MjM1NTJjYT9peGlkPU1Yd3hNakEzZkRCOE1IeHpaV0Z5WTJoOE5IeDhiVzlpYVd4bGZHVnVmREI4ZkRCOCZpeGxpYj1yYi0xLjIuMSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTcwMCZxPTYwIiwKICB3aWR0aDogIjIwMCIsCiAgY3Jvc3NvcmlnaW46ICJhbm9ueW1vdXMiCn07CnZhciBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogInctZnVsbCB0ZXh0LWNlbnRlciBteS00Igp9Owp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAga2V5OiAwCn07CnZhciBfaG9pc3RlZF8xMyA9IHsKICBrZXk6IDEKfTsKdmFyIF9ob2lzdGVkXzE0ID0gewogIGtleTogMAp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygic2VjdGlvbiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfaG9pc3RlZF80LCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFshJHNldHVwLmlzU3RyZWFtaW5nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDAsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5vcGVuQ2FtZXJhICYmICRzZXR1cC5vcGVuQ2FtZXJhLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJ3LTMyIHJvdW5kZWQgc2hhZG93LW1kIGJnLWdyYWRpZW50LXRvLXJcbiAgICAgICAgICAgICAgICAgICAgZnJvbS1ibHVlLTgwMCB0by1pbmRpZ28tODAwIHRleHQtd2hpdGUgcHgtMiBweS0xIgogIH0sICIgT3BlbiBDYW1lcmEgIikpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF83LCBbX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5zdG9wU3RyZWFtaW5nICYmICRzZXR1cC5zdG9wU3RyZWFtaW5nLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pLAogICAgY2xhc3M6ICJ3LTMyIHJvdW5kZWQgc2hhZG93LW1kIGJnLWdyYWRpZW50LXRvLXJcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tLWJsdWUtODAwIHRvLWluZGlnby04MDAgdGV4dC13aGl0ZSBweC0yIHB5LTEiCiAgfSwgIiBTdG9wIFN0cmVhbWluZyAiKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5zbmFwc2hvdCAmJiAkc2V0dXAuc25hcHNob3QuYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSksCiAgICBjbGFzczogInctMzIgcm91bmRlZCBzaGFkb3ctbWQgYmctZ3JhZGllbnQtdG8tclxuICAgICAgICAgICAgICAgICAgICAgIGZyb20tYmx1ZS04MDAgdG8taW5kaWdvLTgwMCB0ZXh0LXdoaXRlIHB4LTIgcHktMSIKICB9LCAiIFNuYXBzaG90ICIpXSkpXSksIF9jcmVhdGVWTm9kZSgidmlkZW8iLCBfaG9pc3RlZF84LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlVk5vZGUoImltZyIsIF9ob2lzdGVkXzEwLCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuZGV0ZWN0ICYmICRzZXR1cC5kZXRlY3QuYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSksCiAgICBjbGFzczogInctMzIgcm91bmRlZCBzaGFkb3ctbWQgYmctZ3JhZGllbnQtdG8tclxuICAgICAgICAgICAgICAgICAgICAgIGZyb20tcmVkLTgwMCB0by1waW5rLTgwMCB0ZXh0LXdoaXRlIHAtMiIKICB9LCBbJHNldHVwLmlzTG9hZGluZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygic3BhbiIsIF9ob2lzdGVkXzEyLCAiTG9hZGluZyAuLi4iKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInNwYW4iLCBfaG9pc3RlZF8xMywgIkRldGVjdCBPYmplY3QiKSldKSwgJHNldHVwLnJlc3VsdC5sZW5ndGggPiAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xNCwgW19jcmVhdGVWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnJlc3VsdFswXS5jbGFzcyksIDEKICAvKiBURVhUICovCiAgKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSldKV0pXSk7Cn0="},{"version":3,"sources":["/home/raskolnikov/Vue_training/vue1-tut/vue3/src/pages/Tensorflow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section class=\"flex w-full\">\n    <div class=\"m-auto\">\n      <div class=\"mt-10\">\n        <h1 class=\"text-2xl my-4\">Tensorflow Object Detection</h1>\n          <div class=\"flex flex-wrap justify-center my-2\">\n            <div class=\"w-full flex justify-center\">\n              <button\n                v-if=\"!isStreaming\"\n                @click=\"openCamera\"\n                class=\"w-32 rounded shadow-md bg-gradient-to-r\n                    from-blue-800 to-indigo-800 text-white px-2 py-1\"\n              >\n                Open Camera\n              </button>\n              <div v-else class=\"flex justify-between\">\n                <button\n                  @click=\"stopStreaming\"\n                  class=\"w-32 rounded shadow-md bg-gradient-to-r\n                      from-blue-800 to-indigo-800 text-white px-2 py-1\"\n                >\n                  Stop Streaming\n                </button>\n                <button\n                  @click=\"snapshot\"\n                  class=\"w-32 rounded shadow-md bg-gradient-to-r\n                      from-blue-800 to-indigo-800 text-white px-2 py-1\"\n                >\n                  Snapshot\n                </button>\n              </div>\n            </div>\n            <video ref=\"videoRef\" autoplay=\"true\" width=\"100\" />\n          </div>\n          <div class=\"flex flex-wrap justify-center\">\n            <img\n              ref=\"imgRef\"\n              src=\"https://images.unsplash.com/photo-1567581935884-3349723552ca?ixid=MXwxMjA3fDB8MHxzZWFyY2h8NHx8bW9iaWxlfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60\"\n              width=\"200\"\n              crossorigin=\"anonymous\"\n            />\n            <div class=\"w-full text-center my-4\">\n              <button\n                @click=\"detect\"\n                class=\"w-32 rounded shadow-md bg-gradient-to-r\n                      from-red-800 to-pink-800 text-white p-2\">\n                <span v-if=\"isLoading\">Loading ...</span>\n                <span v-else>Detect Object</span>\n              </button>\n              <div v-if=\"result.length > 0\">\n                <p>{{ result[0].class }}</p>\n              </div>\n            </div>\n          </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { ref } from 'vue';\nrequire('@tensorflow/tfjs-backend-cpu');\nrequire('@tensorflow/tfjs-backend-webgl');\nconst cocoSsd = require('@tensorflow-models/coco-ssd');\nexport default {\n  setup() {\n    const imgRef = ref('');\n    const videoRef = ref('');\n    const isLoading = ref(false);\n    const isStreaming = ref(false);\n    const result = ref([]);\n\n\n    async function detect() {\n      const img = imgRef.value;\n      isLoading.value = true;\n      const model = await cocoSsd.load();\n      const predictions = await model.detect(img);\n      result.value = predictions;\n      isLoading.value = false;\n    }\n\n     async function openCamera() {\n      if(navigator.mediaDevices.getUserMedia) {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const cams = devices.filter(device => device.kind === 'videoinput');\n        const camId = cams[0].deviceId;\n        navigator.mediaDevices.getUserMedia({ video: { deviceId: { exact: camId } } })\n        .then(stream => {\n          isStreaming.value = true;\n          videoRef.value.srcObject = stream;\n        });\n      }\n    }\n\n    function stopStreaming() {\n      const stream = videoRef.value.srcObject;\n      const tracks = stream.getTracks();\n      tracks.map(track => track.stop());\n    }\n\n    function snapshot() {\n      const canvas = document.createElement(\"canvas\");\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(videoRef.value, 0, 0, 200, 200);\n      const data = canvas.toDataURL('image/png');\n      imgRef.value.setAttribute('src', data);\n    }\n\n    return {\n      imgRef,\n      result,\n      detect,\n      isLoading,\n      openCamera,\n      videoRef,\n      isStreaming,\n      stopStreaming,\n      snapshot\n    };\n  },\n};\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}]}